define(["DT","basetools"],function(t,i){function a(){t.createTable("dic",{url:$.apiPath+moduleName.dictionary+$.apijoin+"dictionary"+$.apijoin+"page?agencyCode="+agencyCode,aoColumns:[{sTitle:"dictCode",mData:"dictCode",sClass:"center",bSortable:!1,bVisible:!1},{sTitle:"字典编号",mData:"dictCode",sWidth:"20%",sClass:"center"},{sTitle:"字典名称",mData:"dictName",sWidth:"20%",sClass:"center"},{sTitle:"操作",sDefaultContent:"",sClass:"center",render:function(t,i,a,e){var d=['<a class="btn btn-primary btn-xs" href="javascript:void(0)" onclick="dicEdit(\''+a.dictCode+"',"+e.row+')"><i class="glyphicon glyphicon-edit"></i>&nbsp;编辑</a>','<a class="btn btn-primary btn-xs" href="javascript:void(0)" onclick="dicAddVal(\''+a.dictCode+"')\">&nbsp;创建字典值</a>",'<a class="btn btn-primary btn-xs" href="javascript:void(0)" onclick="dicDelete(\''+a.dictCode+"')\">&nbsp;删除</a>"].join("  ");return d}}],extra:{bSort:!1},search_fields:[{display:"字典编号",name:"dictCodeSearch",type:"text",cid:"dictCode"},{display:"字典名称",name:"dicNameSearch",type:"text",cid:"dictName"}],toolbar:{buttons:[{btnId:"addDictionary",title:"创建",callback:function(){$("#dicAddModel").modal({backdrop:"static",remote:"dictionary/dictionaryAdd"})}}]}}),$("#dicAddModel").on("hidden.bs.modal",function(){$(this).removeData("bs.modal"),$(".opp_result").removeClass("opp_active").addClass("opp_unactive")})}return $.app.pageSetUp(),this.dicEdit=function(t,i){$("#dicAddModel").modal({backdrop:"static",remote:"dictionary/dictionaryEdit?id="+t+"&row="+i})},this.dicAddVal=function(t){$("#dicAddModel").modal({backdrop:"static",remote:"dictionary/dicvalAdd?id="+t})},this.dicDelete=function(t){$.confirm({title:"确认信息",content:"是否删除所选信息。",confirmButton:"是",cancelButton:"否",confirm:function(){$.restAjax({url:$.apiPath+moduleName.dictionary+$.apijoin+"dictionary",type:"delete",data:JSON.stringify([t]),success:function(t){"200"==t.status&&($("#dic_table").DataTable().ajax.reload(),i.backTip(t,"Y"))}})},cancel:function(){$(".opp_result").removeClass("opp_active").addClass("opp_unactive")}})},{dicTabinit:a}});