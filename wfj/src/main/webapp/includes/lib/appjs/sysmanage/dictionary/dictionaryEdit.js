define(["basetools"],function(i){var e=function(e){var t=!1;$.restAjax({url:$.apiPath+moduleName.dictionary+$.apijoin+"dictionary"+$.apijoin+$("#dictCodeId").val(),type:"get",cache:!1,success:function(i){"200"==i.status&&i.result&&$("#dicedit_form").json2form({data:i.result})}}),$("#dicedit_form input,textarea").change(function(){t=!0}),$("#dicedit_form").validate({errorElement:"em",errorContainer:"#error_div",errorLabelContainer:"#error_tip",rules:{dictName:{required:!0,isNotSpecialChar:!0,maxlength:50},dictDesc:{maxlength:126}},messages:{dictName:{required:" 字典名称不能为空；",isNotSpecialChar:" 字典名称不允许包含特殊字符；",maxlength:" 字典名称不能超过50个字符；"},dictDesc:{maxlength:" 字典值描述不能超过126个字符；"}},submitHandler:function(t){var a=$("#dicedit_form").form2json();$.restAjax({url:$.apiPath+moduleName.dictionary+$.apijoin+"dictionary"+$.apijoin+$("#dictCodeId").val(),type:"put",dataType:"json",data:a,async:!1,success:function(t){"200"==t.status&&($("#dicedit_close").click(),$("#dic_table").dataTable().fnUpdate(t.result,e,null,!1),i.backTip(t,"Y"))}})}}),$("#dicedit_cancel").click(function(){t?$.confirm({title:"确认信息",content:"确认取消当前所做的操作",confirmButton:"是",cancelButton:"否",confirm:function(){$("#dicedit_close").click()}}):$("#dicedit_close").click()})};return{init:e}});