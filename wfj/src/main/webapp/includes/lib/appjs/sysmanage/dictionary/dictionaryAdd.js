define(["basetools"],function(e){var i=function(){var i=!1;$("#dicadd_form input,textarea").change(function(){i=!0}),$("#dicadd_form").validate({errorElement:"em",errorContainer:"#error_div",errorLabelContainer:"#error_tip",rules:{dictCode:{required:!0,isBusinessNo:!0,maxlength:10,remote:{type:"get",cache:!1,url:function(){return $.apiPath+moduleName.dictionary+$.apijoin+"dictionary"+$.apijoin+$("#dictCode").val()+$.apijoin+"available"},data:{code:function(){return $("#dictCode").val()}},beforeSend:function(e){e.setRequestHeader("token",token),e.setRequestHeader("Content-Type","application/json;charset=utf-8")}}},dictName:{required:!0,isNotSpecialChar:!0,maxlength:50},dictDesc:{maxlength:126}},messages:{dictCode:{required:" 字典编号不能为空；",isBusinessNo:" 字典编号只接受字母,数字,下划线；",maxlength:" 字典编号不能超过10个字符；",remote:" 字典编号已经存在；"},dictName:{required:" 字典名称不能为空；",isNotSpecialChar:" 字典名称不允许包含特殊字符；",maxlength:" 字典名称不能超过50个字符；"},dictDesc:{maxlength:" 字典值描述不能超过126个字符；"}},submitHandler:function(i){var t=$("#dicadd_form").form2json();$.restAjax({url:$.apiPath+moduleName.dictionary+$.apijoin+"dictionary",type:"POST",dataType:"json",data:t,async:!1,success:function(i){"200"==i.status&&($("#dicadd_close").click(),$("#dic_table").DataTable().ajax.reload(),e.backTip(i,"Y"))}})}}),$("#dicadd_cancel").click(function(){i?$.confirm({title:"确认信息",content:"确认取消当前所做的操作",confirmButton:"是",cancelButton:"否",confirm:function(){$("#dicadd_close").click()}}):$("#dicadd_close").click()})};return{init:i}});