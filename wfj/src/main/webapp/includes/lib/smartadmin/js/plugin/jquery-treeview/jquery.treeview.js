/*
 * Treeview 1.5pre - jQuery plugin to hide and show branches of a tree
 * 
 * http://bassistance.de/jquery-plugins/jquery-plugin-treeview/
 * http://docs.jquery.com/Plugins/Treeview
 *
 * Copyright (c) 2007 JÃ¶rn Zaefferer
 *
 * Dual licensed under the MIT and GPL licenses:
 *   http://www.opensource.org/licenses/mit-license.php
 *   http://www.gnu.org/licenses/gpl.html
 *
 * Revision: $Id: jquery.treeview.js 5759 2008-07-01 07:50:28Z joern.zaefferer $
 *
 */

!function(e){e.extend(e.fn,{swapClass:function(e,a){var t=this.filter("."+e);return this.filter("."+a).removeClass(a).addClass(e),t.removeClass(e).addClass(a),this},replaceClass:function(e,a){return this.filter("."+e).removeClass(e).addClass(a).end()},hoverClass:function(a){return a=a||"hover",this.hover(function(){e(this).addClass(a)},function(){e(this).removeClass(a)})},heightToggle:function(e,a){e?this.animate({height:"toggle"},e,a):this.each(function(){jQuery(this)[jQuery(this).is(":hidden")?"show":"hide"](),a&&a.apply(this,arguments)})},heightHide:function(e,a){e?this.animate({height:"hide"},e,a):(this.hide(),a&&this.each(a))},prepareBranches:function(e){return e.prerendered||(this.filter(":last-child:not(ul)").addClass(a.last),this.filter((e.collapsed?"":"."+a.closed)+":not(."+a.open+")").find(">ul").hide()),this.filter(":has(>ul)")},applyClasses:function(t,l){this.filter(":has(>ul):not(:has(>a))").find(">span > i").unbind("click.treeview").bind("click.treeview",function(a){this==a.target&&l.apply(e(this).parent().next())}).add(e("a",this)).hoverClass(),t.prerendered||(this.filter(":has(>ul:hidden)").addClass(a.expandable).replaceClass(a.last,a.lastExpandable),this.not(":has(>ul:hidden)").addClass(a.collapsable).replaceClass(a.last,a.lastCollapsable)),this.find("div."+a.hitarea).click(l)},treeview:function(t){function l(t,l){function s(l){return function(){return i.apply(e("div."+a.hitarea,t).filter(function(){return!l||e(this).parent("."+l).length})),!1}}e("a:eq(0)",l).click(s(a.collapsable)),e("a:eq(1)",l).click(s(a.expandable)),e("a:eq(2)",l).click(s())}function i(){e(this).parent().find("span > i").swapClass("fa-plus-circle","fa-minus-circle").end().find(">ul").heightToggle(t.animated,t.toggle)}function s(){var a=[];o.each(function(t,l){a[t]=e(l).is(":has(>ul:visible)")?1:0}),e.cookie(t.cookieId,a.join(""),t.cookieOptions)}function n(){var a=e.cookie(t.cookieId);if(a){var l=a.split("");o.each(function(a,t){e(t).find(">ul")[parseInt(l[a])?"show":"hide"]()})}}if(t=e.extend({cookieId:"treeview"},t),t.toggle){var r=t.toggle;t.toggle=function(){return r.apply(e(this).parent()[0],arguments)}}this.data("toggler",i),this.addClass("treeview");var o=this.find("li").prepareBranches(t);switch(t.persist){case"cookie":var h=t.toggle;t.toggle=function(){s(),h&&h.apply(this,arguments)},n();break;case"location":var d=this.find("a").filter(function(){return this.href.toLowerCase()==location.href.toLowerCase()});if(d.length){var c=d.addClass("selected").parents("ul, li").add(d.next()).show();t.prerendered&&c.filter("li").find(">.hitarea").swapClass(a.collapsableHitarea,a.expandableHitarea).swapClass(a.lastCollapsableHitarea,a.lastExpandableHitarea)}}return o.applyClasses(t,i),t.control&&(l(this,t.control),e(t.control).show()),this}}),e.treeview={};var a=e.treeview.classes={open:"open",closed:"closed",expandable:"expandable1",expandableHitarea:"expandable-hitarea1",lastExpandableHitarea:"lastExpandable-hitarea1",collapsable:"collapsable1",collapsableHitarea:"collapsable-hitarea1",lastCollapsableHitarea:"lastCollapsable-hitarea1",lastCollapsable:"lastCollapsable1",lastExpandable:"lastExpandable1",last:"last",hitarea:"hitarea1"}}(jQuery);